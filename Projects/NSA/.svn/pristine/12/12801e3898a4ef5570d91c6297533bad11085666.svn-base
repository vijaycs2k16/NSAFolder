<div id="upload-files" class="overlay-popup footer-popup" style="display: none;">
    <!-- RIGHT PANEL STARTS -->
    <div class="cd-panel ">
        <div class="cd-panel-header">
            <div class="simple-field-hf"></div>
            <a (click)="closeOverlay($event)" class="cd-panel-close">Close</a>
        </div>
        <input type="hidden" id="notesWeekData" (click)="getWeekData($event)" value="">
        <input type="hidden" id="uploadButton" (click)="uploadEvent($event)" value="">
        <input type="hidden" id="downloadButton" (click)="downloadEvent($event)" value="">
        <input type="hidden" id="deleteAttchment" (click)="deleteAttchment($event)" value="">
        <input hidden id="attachmentWarning" (click)="requested_warning()" type="button" style="display: none;">
        <div class="cd-panel-container">
            <div class="cd-panel-content" id="side-panel-container">
                <!--<button class="btn btn-default btn-rounded btn-primary btn-sm" data-toggle="modal" data-target="#modal_theme_primary1">
                    <i class="icon-attachment"> Notes</i>
                </button>-->
                <ext-calendar></ext-calendar>
                <div class="overlay-footer">
                    <div class="right-align overlay-footer-content-rt">
                        <button class="btn btn-default btn-sm" (click)="closeOverlay($event)">Close</button>
                    </div>
                </div>
                <!-- cd-panel-container -->
            </div>
        </div>
        <!-- right panel script -->
    </div>
</div>
<div id="uploadNotes" class="modal fade" data-backdrop="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <button type="button" class="close" data-dismiss="modal" (click)="uploader.clearQueue()">&times;</button>
                <h5 class="modal-title">Upload Notes</h5>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Attachments<span class="text-danger">*</span>
                            </label>
                            <div class="col-sm-8">
                                <div class="uploader bg-info"><input type="file" class="file-styled"  name="multiple" (change)="onChange()" ng2FileSelect [uploader]="uploader" multiple><span class="filename" style="user-select: none;">Select File to Upload</span><span class="action" style="user-select: none;"><i class="icon-plus2"></i></span></div>
                                <span class="help-block">No.of Files Selected: {{ uploader?.queue?.length }}</span><span *ngIf="UploaderSize > 5242880" class="blink-text text-danger">Please Upload Below 5Mb</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Description
                            </label>
                            <div class="col-sm-8">
                                <textarea rows="2" cols="5" class="form-control" placeholder=""></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="control-label col-sm-4">Notification
                            </label>
                            <div class="col-sm-8">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <label class="checkbox-inline">
                                                    <input #push type="checkbox" class="styled" checked="checked">App
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="checkbox-inline">
                                                <input #sms type="checkbox" class="styled"> SMS
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <table class="table">
                            <thead>
                            <tr>
                                <th width="30%">Name</th>
                                <th>Size</th>
                                <th>Progress</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let item of uploader.queue">
                                <td class="fc-title">{{ item.file.name }}</td>
                                <td nowrap>{{ item.file.size/1024/1024 | number:'.2' }} MB</td>
                                <td>
                                    <div class="progress progress-xxs" style="margin-bottom: 0;">
                                        <div class="progress-bar progress-bar-success" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <span *ngIf="item.isSuccess"><i class="glyphicon glyphicon-ok text-success"></i></span>
                                    <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove text-danger"></i></span>
                                </td>
                                <td nowrap>
                                    <!--<a class="icon-upload4 text-success" (click)="item.upload()" [ngClass]="{'disabled': item.isReady || item.isUploading || item.isSuccess}"></a>-->
                                    <a class="fa fa-trash-o fa-lg text-danger" (click)="item.remove() ; onChange();"></a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <hr/>
                        <div>
                            <div class="content-group-sm">
                                <p class="text-semibold">Uploading Status</p>
                                <div class="progress progress-xxs">
                                    <div class="progress-bar progress-bar-success"  [ngClass]="{'active progress-bar-striped': uploader.progress != 100}" role="progressbar" [ngStyle]="{ 'width': uploader.progress + '%' }"></div>
                                </div>
                                <span [ngClass]="{'text-success-800':uploader.progress > 0,'blink-text': uploader.progress == 100}">{{uploader.progress + '% Completed'}}</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal" (click)="uploader.clearQueue()">Close</button>
                <!--<button type="submit" id="save" [disabled]="!feeTypeForm.valid" (click)="saveFeeType('save')" class="btn btn-primary">Save</button>-->
                <button type="button" class="btn btn-success btn-sm"
                        (click)="uploader.uploadAll()" [disabled]="UploaderSize > 5242880 || !uploader.getNotUploadedItems().length">
                    <span class="icon-upload4"></span> Upload all
                </button>
                <button type="button" class="btn btn-danger btn-sm"
                        (click)="uploader.clearQueue(); onChange();" [disabled]="!uploader.queue.length">
                    <span class="glyphicon glyphicon-trash"></span> Remove all
                </button>
                <button type="button" (click)="notify()" class="btn btn-primary btn-sm" [disabled]="uploader.getNotUploadedItems().length || !uploader.queue.length">
                    <span class="icon-bell2"></span> Notify
                </button>
            </div>
        </div>
    </div>
</div>

<div id="downloadNotes" class="modal fade" data-backdrop="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h5 class="modal-title">Download Notes</h5>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="col-md-12" *ngIf="attachments">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th width="50%">Name</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let attachment of attachments.notesUrl">
                                <td class="fc-title">{{attachment.fileName}}
                                </td>
                                <td nowrap *ngIf="config">
                                    <a class="icon-download4" href="{{config.s3BaseUrl + attachments.schoolId + '/' + attachment.id}}"></a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <hr/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div id="deleteNotes" class="modal fade" data-backdrop="false">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h5 class="modal-title">Delete Notes</h5>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="col-md-12" *ngIf="attachments">
                        <table class="table">
                            <thead>
                            <tr>
                                <th width="50%">Name</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr *ngFor="let attachment of attachments.notesUrl">
                                <td class="fc-title">{{attachment.fileName}}
                                </td>
                                <td nowrap *ngIf="config" class="deleteAtta">
                                    <input class="hide" type="text" id="confirmAttachment" (click)="deleteFile($event)" value="{{attachment.id}}">
                                    <a class='icon-danger' id="deleteAttachment"><i class='fa fa-trash-o margin-7'></i></a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <hr/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="notes-menu hide">
    <div class="btn-group btn-group-animated fc-menu-style">
        <div data-toggle="dropdown"><i class="icon-menu9 position-right"></i></div>
        <ul class="dropdown-menu">
            <li><a class="upload-event"><i class=" icon-upload4"></i> Upload</a><input class="event-obj" type="hidden"></li>
            <li><a class="download-event"><i class="icon-download4"></i> Download</a><input class="event-obj" type="hidden"></li>
            <li><a class="delete-attachment"><i class='fa fa-trash-o fa-lg'></i> Delete</a><input class="event-obj" type="hidden"></li>
        </ul>
    </div>
</div>


